<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GAP - Acesso</title>
    <link rel="stylesheet" href="styles/style.css" />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        primary: "#A0430A",
                        secondary: "#DFE8E6",
                        "background-light": "#f8f7f6", 
                        "background-dark": "#121212", 
                        "surface-light": "#ffffff",    
                        "surface-dark": "#1E1E1E",     
                        "text-light": "#1a1a1a",
                        "text-dark": "#e5e5e5",
                        "text-muted-light": "#666666",
                        "text-muted-dark": "#a3a3a3",
                        border: "rgba(0,0,0,0.08)",
                        "border-dark": "rgba(255,255,255,0.08)",
                    },
                    fontFamily: {
                        display: ["Manrope", "sans-serif"]
                    },
                    borderRadius: {
                        DEFAULT: "0.5rem",
                        xl: "0.75rem",
                        "2xl": "1rem",
                        "3xl": "1.5rem"
                    }
                },
            },
        };
    </script>
    <link
      href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <div class="main-container">
      <div class="view-container login-view">
        <div class="left-banner light-bg">
          <div class="banner-content">
            <img src="img/burnt-cooper.svg" class="logo-big" alt="Logo GAP" />
            <h1 class="banner-title">Sua gestão, sempre com você.</h1>
            <p class="banner-desc">
              Acesse na sua conta e mantenha sua organização em dia, de forma
              simples e segura.
            </p>
            <img
              src="img/login.svg"
              class="illustration"
              alt="Gráfico Financeiro"
            />
          </div>
        </div>

        <div class="right-form white-bg">
          <div class="form-wrapper">
            <h2 class="form-title">Bem-vindo de volta!</h2>
            <p class="form-subtitle">Acesse sua conta para continuar.</p>

            <div id="loginSuccessMessage" class="message-box success hidden">
              <svg class="icon" viewBox="0 0 24 24" style="stroke: currentColor; width: 20px; height: 20px;">
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                <polyline points="22 4 12 14.01 9 11.01"></polyline>
              </svg>
              <span class="msg-text"></span>
            </div>
            <div id="loginErrorMessage" class="message-box error hidden">
              <svg class="icon" viewBox="0 0 24 24" style="stroke: currentColor; width: 20px; height: 20px;">
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="12" y1="8" x2="12" y2="12"></line>
                <line x1="12" y1="16" x2="12.01" y2="16"></line>
              </svg>
              <span class="msg-text"></span>
            </div>
            <!-- Alternador de Login -->
            <div class="login-tabs" style="display: flex; gap: 10px; margin-bottom: 20px;">
              <button type="button" class="tab-btn active" data-target="email-input-group">Email</button>
              <button type="button" class="tab-btn" data-target="credential-input-group">Credencial</button>
            </div>

            <form id="loginForm" class="form-box">
              
              <!-- Input Email -->
              <div class="input-group" id="email-input-group">
                <label for="login-email">Email</label>
                <div class="input-wrapper">
                  <svg class="icon" viewBox="0 0 24 24">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                  </svg>
                  <input type="email" placeholder="Digite seu email" id="login-email" />
                </div>
              </div>

              <!-- Input Credencial -->
              <div class="input-group hidden" id="credential-input-group">
                <label for="credential">Credencial</label>
                <div class="input-wrapper">
                  <svg class="icon" viewBox="0 0 24 24">
                    <rect x="2" y="5" width="20" height="14" rx="2"></rect>
                    <line x1="2" y1="10" x2="22" y2="10"></line>
                  </svg>
                  <input type="text" placeholder="EX: GAP0001 ou GA0001P" id="credential" style="text-transform: uppercase;" />
                </div>
              </div>

              <!-- Senha Login Normal (Email ou Credencial Ativa) -->
              <div class="input-group" id="password-group">
                <label for="password">Senha</label>
                <div class="input-wrapper">
                  <svg class="icon" viewBox="0 0 24 24">
                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                    <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                  </svg>
                  <input type="password" placeholder="Digite sua senha" id="password" required />
                  <button type="button" class="toggle-password" data-target="password">
                    <svg viewBox="0 0 24 24" class="eye-icon">
                      <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" />
                      <circle cx="12" cy="12" r="3" />
                    </svg>
                  </button>
                </div>
                <div class="forgot-pass" id="forgot-pass-link-container">
                  <a href="#" id="linkForgotPassword">Esqueceu a senha?</a>
                </div>
              </div>

              <!-- Campos de Ativação (Primeiro Acesso) -->
              <div id="activation-fields" class="hidden">
                 <div class="input-group">
                    <label>Crie uma Senha</label>
                    <div class="input-wrapper">
                       <svg class="icon" viewBox="0 0 24 24">
                          <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                          <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                       </svg>
                       <input type="password" placeholder="Nova senha" id="new-active-password" />
                    </div>
                 </div>
                 <div class="input-group">
                    <label>Confirme a Senha</label>
                    <div class="input-wrapper">
                       <svg class="icon" viewBox="0 0 24 24">
                          <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                          <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                       </svg>
                       <input type="password" placeholder="Confirme a senha" id="confirm-active-password" />
                    </div>
                 </div>
              </div>

              <button class="w-full px-8 py-3 rounded-xl bg-primary text-white font-bold shadow-lg shadow-primary/25 hover:bg-primary/90 hover:shadow-primary/40 active:scale-95 transition-all duration-200" type="submit" id="btnLoginSubmit">Entrar</button>
              <button class="w-full px-8 py-3 rounded-xl bg-primary text-white font-bold shadow-lg shadow-primary/25 hover:bg-primary/90 hover:shadow-primary/40 active:scale-95 transition-all duration-200 hidden" type="button" id="btnCredentialContinue">Continuar</button>
              <button class="w-full px-8 py-3 rounded-xl bg-primary text-white font-bold shadow-lg shadow-primary/25 hover:bg-primary/90 hover:shadow-primary/40 active:scale-95 transition-all duration-200 hidden" type="button" id="btnActivateAccount">Ativar Conta</button>
            </form>

            <p class="switch-text">
              Não tem uma conta?
              <a href="#" id="linkToSignup">Crie uma conta</a>
            </p>
          </div>
        </div>
      </div>

      <div class="view-container signup-view">
        <div class="left-section white-bg">
          <div class="form-wrapper">
            <h1 class="title">Crie sua conta</h1>
            <p class="subtitle">
              Organize sua rotina e potencialize seus resultados hoje mesmo.
            </p>

            <div id="signupSuccessMessage" class="message-box success hidden">
              <svg class="icon" viewBox="0 0 24 24" style="stroke: currentColor; width: 20px; height: 20px;">
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                <polyline points="22 4 12 14.01 9 11.01"></polyline>
              </svg>
              <span class="msg-text"></span>
            </div>
            <div id="signupErrorMessage" class="message-box error hidden">
              <svg class="icon" viewBox="0 0 24 24" style="stroke: currentColor; width: 20px; height: 20px;">
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="12" y1="8" x2="12" y2="12"></line>
                <line x1="12" y1="16" x2="12.01" y2="16"></line>
              </svg>
              <span class="msg-text"></span>
            </div>
            <form id="signupForm" class="form-box">
              <div class="input-group">
                <label>Nome Completo</label>
                <div class="input-wrapper">
                  <svg class="icon" viewBox="0 0 24 24">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
                    <circle cx="12" cy="7" r="4" />
                  </svg>
                  <input
                    type="text"
                    placeholder="Digite seu nome"
                    id="signup-nome"
                    required
                  />
                </div>
              </div>
              <div class="input-group">
                <label>Email</label>
                <div class="input-wrapper">
                  <svg class="icon" viewBox="0 0 24 24">
                    <path d="M4 4h16v16H4z"></path>
                    <polyline points="22,6 12,13 2,6"></polyline>
                  </svg>
                  <input
                    type="email"
                    placeholder="Digite seu email"
                    id="signup-email"
                    required
                  />
                </div>
              </div>
              <div class="input-group">
                <label>Senha</label>
                <div class="input-wrapper">
                  <svg class="icon" viewBox="0 0 24 24">
                    <rect x="3" y="11" width="18" height="11" rx="2"></rect>
                    <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                  </svg>
                  <input
                    type="password"
                    placeholder="Crie uma senha"
                    id="signup-senha"
                    required
                  />
                  <button
                    type="button"
                    class="toggle-password"
                    data-target="signup-senha"
                  >
                    <svg viewBox="0 0 24 24" class="eye-icon">
                      <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" />
                      <circle cx="12" cy="12" r="3" />
                    </svg>
                  </button>
                </div>
                <small class="password-hint">
                  Mínimo 8 caracteres, incluindo: letra maiúscula e caractere especial (!@#$%...)
                </small>
              </div>
              <div class="input-group">
                <label>Confirmar Senha</label>
                <div class="input-wrapper">
                  <svg class="icon" viewBox="0 0 24 24">
                    <rect x="3" y="11" width="18" height="11" rx="2"></rect>
                    <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                  </svg>
                  <input
                    type="password"
                    placeholder="Confirme a senha"
                    id="signup-confSenha"
                    required
                  />
                  <button
                    type="button"
                    class="toggle-password"
                    data-target="signup-confSenha"
                  >
                    <svg viewBox="0 0 24 24" class="eye-icon">
                      <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" />
                      <circle cx="12" cy="12" r="3" />
                    </svg>
                  </button>
                </div>
              </div>
              <button class="w-full px-8 py-3 rounded-xl bg-primary text-white font-bold shadow-lg shadow-primary/25 hover:bg-primary/90 hover:shadow-primary/40 active:scale-95 transition-all duration-200" type="submit">Começar Agora</button>
            </form>

            <p class="switch-text">
              Já possui cadastro?
              <a href="#" id="linkToLogin">Acesse sua conta</a>
            </p>
          </div>
        </div>

        <div class="right-section dark-bg">
          <img src="/img/sea-mist.svg" class="logo-big" alt="Logo GAP Grande" />
          <h2 class="right-title">Sua vida, sob total controle</h2>
          <p class="right-desc">
            Simplifique sua gestão pessoal em um único lugar seguro e intuitivo.
          </p>
          <img src="img/cadastro.svg" class="illustration" alt="Ilustração" />
        </div>
      </div>


      <div class="view-container forgot-password-view">
        <div class="left-banner light-bg">
          <div class="banner-content">
            <img src="img/burnt-cooper.svg" class="logo-big" alt="Logo GAP" />
            <h1 class="banner-title">Recupere sua senha</h1>
            <p class="banner-desc">
              Siga os passos para redefinir sua senha com segurança.
            </p>
            <img
              src="img/login.svg"
              class="illustration"
              alt="Recuperação de senha"
            />
          </div>
        </div>

        <div class="right-form white-bg">
          <div class="form-wrapper">
            
            <!-- Step 1: Email -->
            <div id="step-1-email">
              <h2 class="form-title">Esqueceu sua senha?</h2>
              <p class="form-subtitle">Digite seu email para receber o código de verificação.</p>

              <div id="forgotStep1SuccessMessage" class="message-box success hidden">
                 <span class="msg-text"></span>
              </div>
              <div id="forgotStep1ErrorMessage" class="message-box error hidden">
                 <span class="msg-text"></span>
              </div>

              <form id="forgotEmailForm" class="form-box">
                <div class="input-group">
                  <label for="forgot-email">Email</label>
                  <div class="input-wrapper">
                    <svg class="icon" viewBox="0 0 24 24">
                      <path d="M4 4h16v16H4z"></path>
                      <polyline points="22,6 12,13 2,6"></polyline>
                    </svg>
                    <input type="email" placeholder="Digite seu email" id="forgot-email" required />
                  </div>
                </div>
                <button class="w-full px-8 py-3 rounded-xl bg-primary text-white font-bold shadow-lg shadow-primary/25 hover:bg-primary/90 hover:shadow-primary/40 active:scale-95 transition-all duration-200" type="submit">Enviar Código</button>
              </form>
            </div>

            <!-- Step 2: Code -->
            <div id="step-2-code" class="hidden">
              <h2 class="form-title">Verifique seu email</h2>
              <p class="form-subtitle">Digite o código de 6 dígitos enviado para <strong id="userEmailDisplay"></strong>.</p>

              <div id="forgotStep2SuccessMessage" class="message-box success hidden">
                 <span class="msg-text"></span>
              </div>
              <div id="forgotStep2ErrorMessage" class="message-box error hidden">
                 <span class="msg-text"></span>
              </div>

              <form id="forgotCodeForm" class="form-box">
                <div class="input-group">
                  <label for="forgot-code">Código de Verificação</label>
                  <div class="input-wrapper">
                    <svg class="icon" viewBox="0 0 24 24">
                      <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                    </svg>
                    <input type="text" placeholder="000000" id="forgot-code" maxlength="6" pattern="[0-9]*" inputmode="numeric" required 
                           style="letter-spacing: 4px; font-weight: bold; text-align: center; font-size: 1.25rem;" />
                  </div>
                </div>
                <button class="w-full px-8 py-3 rounded-xl bg-primary text-white font-bold shadow-lg shadow-primary/25 hover:bg-primary/90 hover:shadow-primary/40 active:scale-95 transition-all duration-200" type="submit">Verificar Código</button>
                <div style="margin-top: 16px; text-align: center;">
                  <span style="font-size: 13px; color: #666;">Não recebeu?</span>
                  <button type="button" id="btnResendCode" class="btn-clean">Reenviar código</button>
                </div>
              </form>
            </div>

            <!-- Step 3: New Password -->
            <div id="step-3-new-password" class="hidden">
              <h2 class="form-title">Nova Senha</h2>
              <p class="form-subtitle">Crie uma nova senha segura para sua conta.</p>

              <div id="forgotStep3SuccessMessage" class="message-box success hidden">
                 <span class="msg-text"></span>
              </div>
              <div id="forgotStep3ErrorMessage" class="message-box error hidden">
                 <span class="msg-text"></span>
              </div>

              <form id="forgotResetForm" class="form-box">
                <div class="input-group">
                  <label for="new-password">Nova Senha</label>
                  <div class="input-wrapper">
                    <svg class="icon" viewBox="0 0 24 24">
                      <rect x="3" y="11" width="18" height="11" rx="2"></rect>
                      <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                    </svg>
                    <input type="password" placeholder="Nova senha" id="new-password" required />
                    <button type="button" class="toggle-password" data-target="new-password">
                      <svg viewBox="0 0 24 24" class="eye-icon">
                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" />
                        <circle cx="12" cy="12" r="3" />
                      </svg>
                    </button>
                  </div>
                  <small class="password-hint">Mínimo 8 caracteres, maiúscula e caractere especial.</small>
                </div>

                <div class="input-group">
                  <label for="confirm-new-password">Confirmar Senha</label>
                  <div class="input-wrapper">
                    <svg class="icon" viewBox="0 0 24 24">
                      <rect x="3" y="11" width="18" height="11" rx="2"></rect>
                      <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                    </svg>
                    <input type="password" placeholder="Confirme a senha" id="confirm-new-password" required />
                    <button type="button" class="toggle-password" data-target="confirm-new-password">
                      <svg viewBox="0 0 24 24" class="eye-icon">
                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" />
                        <circle cx="12" cy="12" r="3" />
                      </svg>
                    </button>
                  </div>
                </div>

                <button class="w-full px-8 py-3 rounded-xl bg-primary text-white font-bold shadow-lg shadow-primary/25 hover:bg-primary/90 hover:shadow-primary/40 active:scale-95 transition-all duration-200" type="submit">Redefinir Senha</button>
              </form>
            </div>

            <p class="switch-text">
              Lembrou sua senha?
              <a href="#" id="linkBackToLogin">Fazer login</a>
            </p>
          </div>
        </div>
      </div>
    </div>

    <script src="scripts/script.js"></script>
  </body>
</html>
